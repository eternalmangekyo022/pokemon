(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(15),c=n.n(s),l=n(16),o=n(2),u=n.n(o),i=n(5),p=n(6),d=n(11),h=n(12),f=n(4),b=n(14),j=n(13),v=n(9),x=(n(23),n(8)),m=n(17),g=n.n(m),O=n(0);function w(e,t){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(u.a.mark((function e(t,n){var a,r,s,c,l,o,i,d,h,f,b,j,v,x,m=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>2&&void 0!==m[2]?m[2]:"K",r=t.split(","),s=Object(p.a)(r,2),c=s[0],l=s[1],o=n.split(","),i=Object(p.a)(o,2),d=i[0],h=i[1],c=parseFloat(c),l=parseFloat(l),d=parseFloat(d),h=parseFloat(h),c!==d||l!==h){e.next=11;break}return e.abrupt("return",0);case 11:return f=Math.PI*c/180,b=Math.PI*d/180,j=l-h,v=Math.PI*j/180,(x=Math.sin(f)*Math.sin(b)+Math.cos(f)*Math.cos(b)*Math.cos(v))>1&&(x=1),x=60*(x=180*(x=Math.acos(x))/Math.PI)*1.1515,"K"===a&&(x*=1.609344),"N"===a&&(x*=.8684),e.abrupt("return",x);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(v.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://cors-anywhere.herokuapp.com/"+t+n,{"x-requested-with":"fetch"});case 3:return a=e.sent,e.next=6,a.json();case 6:return a=e.sent,e.next=9,y(a.quests);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0.toString()+" fetchQuest()");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(e){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(u.a.mark((function e(t){var n,a,r,s,c,o,d,h,f,b,j,v,x,m,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){var a,r=[];-1===n&&(n=e.length-1);for(var s=0;s<e.length;s++)s!==n?r=[].concat(Object(i.a)(r),[e[s]]):a=e[s];if(!a)throw new Error("index not valid. sortQuests.pop() actual length: ".concat(t.length,", index given: ").concat(n));return[r,a]},0!==t.length){e.next=3;break}return e.abrupt("return","No quests specified. sortQuests()");case 3:a=[],s=n(t,0),c=Object(p.a)(s,2),t=c[0],r=c[1],a[0]=r,t=t.filter((function(e){return e!==r})),o=[];case 11:if(!(t.length>0)){e.next=43;break}d=[{chose:null}],h=1e9,f=null,b=Object(l.a)(t),e.prev=16,b.s();case 18:if((j=b.n()).done){e.next=27;break}return v=j.value,e.next=22,w(v.lat+","+v.lng,a.at(-1).lat+","+a.at(-1).lng);case 22:x=e.sent,d=[].concat(Object(i.a)(d),[x]),x<h&&(d[0].chose=x,h=x,f=v);case 25:e.next=18;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(16),b.e(e.t0);case 32:return e.prev=32,b.f(),e.finish(32);case 35:o=[].concat(Object(i.a)(o),[d]),m=n(t,t.indexOf(f)),g=Object(p.a)(m,2),t=g[0],r=g[1],a=[].concat(Object(i.a)(a),[r]),e.next=11;break;case 43:return console.log(o),e.abrupt("return",a);case 45:case"end":return e.stop()}}),e,null,[[16,29,32,35]])})))).apply(this,arguments)}function S(e){var t="";return t+='<?xml version="1.0" encoding="utf-8" standalone="yes"?>\n',t+="<gpx>\n",t+="<trk>\n",t+="<trkseg>\n",e.forEach((function(e){t+='<trkpt lat="'.concat(parseFloat(e.lat),'" lon="').concat(parseFloat(e.lng),'"></trkpt>\n')})),t+="</trkseg>\n",t+="</trk>\n",t+="</gpx>\n"}var F=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleGetQuest=function(){""===a.state.url||""===a.state.quest?alert(a.state.url?"Select a quest type!":"Select a city!"):function(e,t){return C.apply(this,arguments)}(a.state.url,a.state.quest).then((function(e){g()(new Blob([S(e)]),"quest.gpx")}))},a.state={url:"",quest:"",fileDownloadUrl:""},a.handleSelectCity=a.handleSelectCity.bind(Object(f.a)(a)),a.handleSelectQuest=a.handleSelectQuest.bind(Object(f.a)(a)),a}return Object(h.a)(n,[{key:"handleSelectCity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&alert("Selected ".concat(e.target.value)),this.setState({url:e.target.value})}},{key:"handleSelectQuest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&alert("Selected ".concat(e.target.value)),this.setState({quest:e.target.value})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"quest-select-container",children:[Object(O.jsxs)("select",{name:"city-name",className:"select-quest city",value:this.state.url,onChange:this.handleSelectCity,children:[Object(O.jsx)("option",{value:"",hidden:!0,children:"City"}),x.b.map((function(e){return Object(O.jsx)("option",{className:"option-url",value:e.url,children:e.name},x.b.indexOf(e))}))]}),Object(O.jsxs)("select",{name:"quest-url",className:"select-quest quest",value:this.state.quest,onChange:this.handleSelectQuest,children:[Object(O.jsx)("option",{value:"",hidden:!0,children:"Quest"}),x.a.map((function(e){return Object(O.jsx)("optgroup",{label:e.category,children:e.rewards.map((function(t){return Object(O.jsx)("option",{value:t.literal,children:t.reward},e.rewards.indexOf(t))}))},x.a.indexOf(e))}))]}),Object(O.jsx)("button",{className:"button-quest",onClick:function(t){return e.handleGetQuest()},children:"Get quests"})]})}}]),n}(r.a.Component),M=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={inputText:"",fileDownloadUrl:""},a.handleFormSubmit=a.handleFormSubmit.bind(Object(f.a)(a)),a}return Object(h.a)(n,[{key:"createGpx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parseCoords(this.state.inputText),t="";return t+='<?xml version="1.0" encoding="utf-8" standalone="yes"?>\n',t+="<gpx>\n",t+="<trk>\n",t+="<trkseg>\n",e.forEach((function(e){var n=e[0].split(","),a=Object(p.a)(n,2),r=a[0],s=a[1];t+='<trkpt lat="'.concat(parseFloat(r),'" lon="').concat(parseFloat(s),'"></trkpt>\n')})),t+="</trkseg>\n",t+="</trk>\n",t+="</gpx>\n"}},{key:"downloadFile",value:function(){var e=this,t=new Blob([this.createGpx(this.state.inputText)]),n=URL.createObjectURL(t);this.setState({fileDownloadUrl:n},(function(){e.dofileDownload.click(),URL.revokeObjectURL(n),e.setState({fileDownloadUrl:""})}))}},{key:"parseCoords",value:function(){var e=this.state.inputText;return Object(i.a)(e.matchAll(/[0-9]{1,3}\.[0-9]{3,14},.[0-9]{0,3}\.[0-9]{3,14}/g))}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.downloadFile()}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:function(t){return e.handleFormSubmit(t)},className:"gpx-form",children:[Object(O.jsx)("input",{type:"text",value:this.state.inputText,onChange:function(t){e.setState({inputText:t.target.value})}}),Object(O.jsx)("input",{type:"submit",value:"Get .gpx file",className:"gpx-submit"})]}),Object(O.jsx)("a",{style:{display:"none"},download:"test.gpx",href:this.state.fileDownloadUrl,ref:function(t){return e.dofileDownload=t},children:"download it"})]})}}]),n}(r.a.Component);function N(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M,{}),Object(O.jsx)(F,{})]})}c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root"))},8:function(e){e.exports=JSON.parse('{"a":[{"category":"Stardust","rewards":[{"reward":200,"literal":"quests[]=3%2C200%2C0"},{"reward":500,"literal":"quests[]=3%2C500%2C0"},{"reward":1000,"literal":"quests[]=3%2C1000%2C0"},{"reward":1500,"literal":"quests[]=3%2C1500%2C0"}]},{"category":"Mega Energy","rewards":[{"reward":"Venusaur","literal":"quests[]=12%2C0%2C3"},{"reward":"Charizard","literal":"quests[]=12%2C0%2C6"},{"reward":"Blastoise","literal":"quests[]=12%2C0%2C9"},{"reward":"Beedrill","literal":"quests[]=12%2C0%2C15"},{"reward":"Pidgeot","literal":"quests[]=12%2C0%2C18"},{"reward":"Slowbro","literal":"quests[]=12%2C0%2C80"}]},{"category":"Pokemon Encounter","rewards":[{"reward":"Larvitar","literal":"quests[]=7%2C0%2C246"},{"reward":"Dratini","literal":"quests[]=7%2C0%2C147"},{"reward":"Spinda","literal":"quests[]=7%2C0%2C327"}]}],"b":[{"name":"New York","url":"nycpokemap.com/quests.php?"},{"name":"Vancouver","url":"vanpokemap.com/quests.php?"},{"name":"London","url":"londonpogomap.com/quests.php?"},{"name":"Singapore","url":"sgpokemap.com/quests.php?"}]}')}},[[25,1,2]]]);
//# sourceMappingURL=main.26b033b8.chunk.js.map